/* empty css                *//* empty css                  *//* empty css              *//* empty css               *//* empty css               */import{_ as v,r as b,L as E,o as V,c as w,d as n,e as o,w as l,m as d,l as y,u as p,M as N,N as k,E as f,a as z,p as I,q,v as B,x as L,s as S}from"./index-445d3c97.js";import{r as T}from"./request-585909c7.js";const U={class:"login-container"},h={class:"login-box"},C={__name:"Login",setup(M){const t=b({form:{},rules:{username:[{required:!0,message:"請輸入帳號",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"}]}}),m=E(),_=()=>{m.value.validate(s=>{s&&T.post("/login",t.form).then(e=>{e.code==="200"?(f.success("登入成功"),z.push("/"),localStorage.setItem("system-user",JSON.stringify(e.data))):f.error(e.msg)})}).catch(s=>{console.error(s)})};return(s,e)=>{const u=I,a=q,i=B,c=L,g=S,x=y;return V(),w("div",U,[n("div",h,[e[4]||(e[4]=n("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px",color:"#1450aa"}},"歡迎登入學生選課管理系統",-1)),o(x,{model:t.form,ref_key:"formRef",ref:m,rules:t.rules},{default:l(()=>[o(a,{prop:"username"},{default:l(()=>[o(u,{"prefix-icon":p(N),size:"large",modelValue:t.form.username,"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.username=r),placeholder:"請輸入帳號"},null,8,["prefix-icon","modelValue"])]),_:1}),o(a,{prop:"password"},{default:l(()=>[o(u,{"prefix-icon":p(k),size:"large",modelValue:t.form.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.password=r),placeholder:"請輸入密碼","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),o(a,{prop:"role"},{default:l(()=>[o(c,{size:"large",style:{width:"100%"},modelValue:t.form.role,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.role=r)},{default:l(()=>[o(i,{value:"ADMIN",label:"管理員"}),o(i,{value:"TEACHER",label:"教師"}),o(i,{value:"STUDENT",label:"學生"})]),_:1},8,["modelValue"])]),_:1}),o(a,null,{default:l(()=>[o(g,{size:"large",type:"primary",style:{width:"100%"},onClick:_},{default:l(()=>e[3]||(e[3]=[d("登 入")])),_:1})]),_:1})]),_:1},8,["model","rules"]),e[5]||(e[5]=n("div",{style:{"text-align":"right"}},[d(" 還沒有帳號？請 "),n("a",{href:"/register"},"註冊")],-1))])])}}},j=v(C,[["__scopeId","data-v-be5e26be"]]);export{j as default};
